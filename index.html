<!DOCTYPE html>
<html>
<head>
<title>Snake Game Smooth Player Speed</title>
<style>
body {
  margin: 0;
  background: black;
  overflow: hidden;
  font-family: Arial;
}
#gameCanvas {
  background: #111;
  display: block;
  margin: auto;
  max-width: 100vw;
  max-height: 100vh;
}
.buttons {
  position: fixed;
  bottom: 10px;
  width: 100%;
  text-align: center;
}
button {
  font-size: 22px;
  padding: 15px 25px;
  margin: 5px;
  border-radius: 10px;
}
</style>
</head>
<body>

<canvas id="gameCanvas" width="1920" height="1080"></canvas>

<div class="buttons">
<button onclick="setDir('up')">⬆️</button><br>
<button onclick="setDir('left')">⬅️</button>
<button onclick="setDir('down')">⬇️</button>
<button onclick="setDir('right')">➡️</button>
</div>

<script>
let canvas = document.getElementById("gameCanvas");
let ctx = canvas.getContext("2d");

// Player
let player = {x: 200, y: 200, size: 25, dx: 1, dy: 0};

// Enemy (constant speed)
let enemy = {x: 1600, y: 800, size: 35, speed: 1.8};

// Coin
let coin = {x: Math.random() * 1900, y: Math.random() * 1060, size: 22};

let score = 0;
let lost = false;

// Player speed control
let playerSpeed = 1;         // starting speed
let maxPlayerSpeed = 4;      // maximum playable speed
let speedIncrement = 0.002;  // how fast the speed increases

// Direction control
function setDir(dir) {
  if (dir === "up") player.dx = 0, player.dy = -1;
  if (dir === "down") player.dx = 0, player.dy = 1;
  if (dir === "left") player.dx = -1, player.dy = 0;
  if (dir === "right") player.dx = 1, player.dy = 0;
}

// Generate new coin
function newCoin() {
  coin.x = Math.random() * 1900;
  coin.y = Math.random() * 1060;
}

function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Display score
  ctx.fillStyle = "white";
  ctx.font = "28px Arial";
  ctx.fillText("Score: " + score, 20, 40);

  if (lost) {
    ctx.fillStyle = "red";
    ctx.font = "60px Arial";
    ctx.fillText("YOU LOST!", 760, 540);

    ctx.fillStyle = "yellow";
    ctx.font = "40px Arial";
    ctx.fillText("Final Score: " + score, 800, 600);
    return;
  }

  // Gradually increase player speed
  if (playerSpeed < maxPlayerSpeed) {
    playerSpeed += speedIncrement;
    if (playerSpeed > maxPlayerSpeed) playerSpeed = maxPlayerSpeed;
  }

  // Move player
  player.x += player.dx * playerSpeed;
  player.y += player.dy * playerSpeed;

  // Wrap-around
  if (player.x > 1920) player.x = 0;
  if (player.x < 0) player.x = 1920;
  if (player.y > 1080) player.y = 0;
  if (player.y < 0) player.y = 1080;

  // Draw player
  ctx.fillStyle = "cyan";
  ctx.fillRect(player.x, player.y, player.size, player.size);

  // Draw enemy
  ctx.fillStyle = "red";
  ctx.fillRect(enemy.x, enemy.y, enemy.size, enemy.size);

  // Draw coin
  ctx.fillStyle = "yellow";
  ctx.beginPath();
  ctx.arc(coin.x, coin.y, coin.size / 2, 0, Math.PI * 2);
  ctx.fill();

  // Enemy moves at constant speed toward player
  let dx = player.x - enemy.x;
  let dy = player.y - enemy.y;
  let dist = Math.sqrt(dx*dx + dy*dy);

  if(dist != 0){
    enemy.x += (dx / dist) * enemy.speed;
    enemy.y += (dy / dist) * enemy.speed;
  }

  // Collect coin
  if (
    player.x < coin.x + coin.size &&
    player.x + player.size > coin.x &&
    player.y < coin.y + coin.size &&
    player.y + player.size > coin.y
  ) {
    score++;
    newCoin();
  }

  // Lose condition
  if (
    player.x < enemy.x + enemy.size &&
    player.x + player.size > enemy.x &&
    player.y < enemy.y + enemy.size &&
    player.y + player.size > enemy.y
  ) {
    lost = true;
  }

  requestAnimationFrame(draw);
}

draw();
</script>

</body>
</html>